<process xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../petriflow_schema.xsd">
	<id>identity</id>
	<version>1.0.0</version>
	<title>Identity</title>
	<icon>person</icon>
	<defaultRole>false</defaultRole>
	<anonymousRole>false</anonymousRole>
	<roleRef>
		<id>admin</id>
		<permission>
			<create>true</create>
			<delete>true</delete>
			<view>true</view>
		</permission>
	</roleRef>
	<role>
		<id>admin</id>
		<title>Admin</title>
	</role>
	<data type="text" immediate="true">
		<id>username</id>
		<title>Username</title>
	</data>
	<data type="text">
		<id>firstname</id>
		<title>First name</title>
	</data>
	<data type="text">
		<id>lastname</id>
		<title>Last name</title>
	</data>
	<data type="text">
		<id>password</id>
		<title>Password</title>
	</data>
	<data type="caseRef">
		<id>active_actor_id</id>
		<title/>
		<allowedNets>
			<allowedNet>actor</allowedNet>
		</allowedNets>
	</data>
	<data type="caseRef">
		<id>main_actor_id</id>
		<title/>
		<allowedNets>
			<allowedNet>actor</allowedNet>
		</allowedNets>
	</data>
	<data type="caseRef">
		<id>additional_actor_ids</id>
		<title/>
		<allowedNets>
			<allowedNet>actor</allowedNet>
		</allowedNets>
	</data>
	<data type="enumeration_map" immediate="true">
		<id>state</id>
		<title>State</title>
<!--		todo: release/8.0.0 init dynamic by java enum?-->
		<options>
			<option id="active">Active</option>
			<option id="blocked">Blocked</option>
			<option id="invited">Invited</option>
		</options>
	</data>
	<data type="text">
		<id>registration_token</id>
		<title>Registration token</title>
	</data>
	<data type="dateTime">
		<id>expiration_date</id>
		<title>Expiration date</title>
	</data>
<!--	todo preklady-->
	<transition>
		<id>t1</id>
		<x>368</x>
		<y>208</y>
		<title>Data</title>
		<roleRef>
			<id>admin</id>
			<permission>
				<perform>true</perform>
			</permission>
		</roleRef>
		<flex>
			<id>t1_flex</id>
			<item>
				<dataRef>
					<id>username</id>
					<logic>
						<behavior>editable</behavior>
					</logic>
				</dataRef>
			</item>
			<item>
				<dataRef>
					<id>firstname</id>
					<logic>
						<behavior>editable</behavior>
					</logic>
				</dataRef>
			</item>
			<item>
				<dataRef>
					<id>lastname</id>
					<logic>
						<behavior>editable</behavior>
					</logic>
				</dataRef>
			</item>
			<item>
				<dataRef>
					<id>main_actor_id</id>
					<logic>
						<behavior>visible</behavior>
					</logic>
				</dataRef>
			</item>
			<item>
				<dataRef>
					<id>additional_actor_ids</id>
					<logic>
						<behavior>visible</behavior>
					</logic>
				</dataRef>
			</item>
			<item>
				<dataRef>
					<id>state</id>
					<logic>
						<behavior>editable</behavior>
					</logic>
				</dataRef>
			</item>
			<item>
				<dataRef>
					<id>expiration_date</id>
					<logic>
						<behavior>editable</behavior>
					</logic>
				</dataRef>
			</item>
		</flex>
<!--		todo 2058 reload session on finish?-->
	</transition>
	<place>
		<id>p1</id>
		<x>368</x>
		<y>304</y>
		<tokens>1</tokens>
	</place>
	<arc>
		<id>a1</id>
		<type>read</type>
		<sourceId>p1</sourceId>
		<destinationId>t1</destinationId>
		<multiplicity>1</multiplicity>
	</arc>
</process>