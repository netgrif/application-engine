<process xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:noNamespaceSchemaLocation="../../main/resources/petriNets/petriflow_schema.xsd">
    <id>test_autocomplete_dynamic</id>
    <version>1.0.0</version>
    <title>Autocomplete Dynamic Net</title>
    <!-- ROLES -->
    <!-- DATA -->
    <data type="enumeration">
        <id>autocomplete</id>
        <title/>
        <component>
            <id>autocomplete_dynamic</id>
        </component>
        <event type="set">
            <id>autocomplete_set</id>
            <actions phase="post">
                <action type="value">
                    <!-- @formatter:off -->
                    change autocomplete choices {
                        def value = autocomplete.rawValue.toString()
                        return findCases { it.title.contains(value) }.collect({it.title})
                    }
                    <!-- @formatter:on -->
                </action>
            </actions>
        </event>
    </data>
    <!-- TRANSITIONS -->
    <transition>
        <id>t1</id>
        <x>379</x>
        <y>273</y>
        <title>Autocomplete</title>
        <assignPolicy>auto</assignPolicy>
        <flex>
            <id>t1_flex</id>
            <item>
                <dataRef>
                    <id>autocomplete</id>
                    <logic>
                        <behavior>editable</behavior>
                        <required>true</required>
                    </logic>
                </dataRef>
            </item>
        </flex>
    </transition>
</process>
